// translation.js

const translations = {
    el: {
        "logo-alt": "AR Akron Services Logo",
        "hero-title-line1": "Ο Ψηφιακός σου Κόσμος",
        "hero-title-line2": "Όπως τον Ονειρεύεσαι",
        "hero-subtitle": "Στην AR Akron Services μετατρέπουμε κάθε σου ιδέα σε πραγματικότητα: websites, web εφαρμογές, blogs — όλα σχεδιασμένα αποκλειστικά για εσάς, χωρίς περιορισμούς. Εδώ, δεν υπάρχουν έτοιμες λύσεις. Υπάρχει μόνο η δική σας.",
        "cta-services": "Οι Υπηρεσίες μας",
        "cta-quote": "Ζήτα Προσφορά",
        "nav-services": "Υπηρεσιες",
        "nav-highlights": "Akron", // Ή "Γιατί Εμάς" ή παρόμοιο;
        "nav-portfolio": "Εργα",
        "nav-contact": "Επικοινωνια",
        "services-heading": "Οι Υπηρεσίες μας",
        "card1-title": "Κατασκευή Ιστοσελίδων",
        "card1-description": "Δημιουργούμε εικαστικά άρτιες και τεχνικά άψογες ιστοσελίδες, φτιαγμένες από το μηδέν – χωρίς έτοιμα templates, μόνο αυθεντικός, βελτιστοποιημένος κώδικας.",
        "card2-title": "Web Εφαρμογές",
        "card2-description": "Αναπτύσσουμε προσαρμοσμένες εφαρμογές για την επιχείρησή σας — από συστήματα κρατήσεων μέχρι διαχείριση δεδομένων. Αξιοπιστία, ασφάλεια και λειτουργικότητα.",
        "card3-title": "Blogs & Προσωπικά Sites",
        "card3-description": "Εκφραστείτε ελεύθερα μέσα από ένα blog ή προσωπική ιστοσελίδα με μοντέρνο σχεδιασμό, ταχύτητα και δυνατότητες επέκτασης. Το περιεχόμενό σας αξίζει την καλύτερη παρουσίαση.",
        "highlights-heading": "Γιατί να επιλέξεις την AR Akron Services",
        "highlight1-heading": "100% Custom",
        "highlight1-description": "Δεν χρησιμοποιούμε πλατφόρμες drag & drop. Ό,τι βλέπετε είναι γραμμένο αποκλειστικά για εσάς.",
        "highlight2-heading": "Mobile First",
        "highlight2-description": "Όλα μας τα έργα σχεδιάζονται πρώτα για κινητές συσκευές, ώστε να φαίνονται τέλεια παντού.",
        "highlight3-heading": "Συνεργασία σε Βάθος",
        "highlight3-description": "Μαθαίνουμε τι πραγματικά θέλετε και δημιουργούμε μαζί ένα προϊόν που σας αντιπροσωπεύει.",
        "portfolio-heading": "Κάθε Project, Μια Νέα Πρόκληση",
        "portfolio-subtitle": "Πιστεύουμε στην καινοτομία και στον συνεχή διάλογο μαζί σας για να δημιουργήσουμε κάτι μοναδικό.",
        "contact-ticker": "Custom λύσεις για το ψηφιακό σου όραμα — Websites | Apps | Blogs — Η δική σου μοναδική παρουσία, η δική μας τεχνογνωσία — Αξιοπιστία και ασφάλεια που μπορείς να εμπιστευθείς — Επικοινώνησε για το custom project σου — Custom λύσεις για το ψηφιακό σου όραμα — Websites | Apps | Blogs — Η δική σου μοναδική παρουσία, η δική μας τεχνογνωσία — Αξιοπιστία και ασφάλεια που μπορείς να εμπιστευθείς — Επικοινώνησε για το custom project σου! — Custom λύσεις για το ψηφιακό σου όραμα — Websites | Apps | Blogs — Η δική σου μοναδική παρουσία, η δική μας τεχνογνωσία — Αξιοπιστία και ασφάλεια που μπορείς να εμπιστευθείς — Επικοινώνησε για το custom project σου! —",
        "contact-heading": "Επικοινωνία",
        "contact-form-heading": "Επικοινωνία",
        "form-name-placeholder": "Όνομα",
        "form-email-placeholder": "Email",
        "form-message-placeholder": "Το μήνυμά σας",
        "form-submit-button": "Αποστολή",
        "footer-text": "© 2025 AR Akron Services",
        // ΝΕΑ ΜΕΤΑΦΡΑΣΗ ΓΙΑ ΤΗ ΔΙΕΥΘΥΝΣΗ
         "terms-accept": "Αποδέχομαι τους",
    "terms-of-use": "Όρους Χρήσης",
    "and": "και την",
                "form-agree-terms": "Διάβασα και αποδέχομαι τους <a id='termsLink' href='1-el.pdf' target='_blank' rel='noopener noreferrer'>Όρους Χρήσης</a> και την <a id='privacyLink' href='2-el.pdf' target='_blank' rel='noopener noreferrer'>Πολιτική Προστασίας Δεδομένων</a>.",

    "privacy-policy": "Πολιτική Απορρήτου",
        "contact-address": "Γρίβα Διγενή 2,<br>17342 Αγ Δημήτριος,<br>Αττική"
    },
    en: {
        "logo-alt": "AR Akron Services Logo",
        "hero-title-line1": "Your Digital World",
        "hero-title-line2": "As You Dreamt It",
        "hero-subtitle": "At AR Akron Services, we turn your every idea into reality: websites, web applications, blogs — all designed exclusively for you, without limitations. Here, there are no ready-made solutions. There is only yours.",
        "cta-services": "Our Services",
        "cta-quote": "Get a Quote",
                "form-agree-terms": "I have read and accept the <a id='termsLink' href='1-en.pdf' target='_blank' rel='noopener noreferrer'>Terms of Use</a> and the <a id='privacyLink' href='2-en.pdf' target='_blank' rel='noopener noreferrer'>Privacy Policy</a>.",

        "nav-services": "Services",
        "nav-highlights": "Akron", // Or "Why Us"?
        "nav-portfolio": "Projects",
        "nav-contact": "Contact",
        "services-heading": "Our Services",
        "card1-title": "Website Development",
        "card1-description": "We create aesthetically perfect and technically flawless websites, built from scratch – no ready-made templates, just authentic, optimized code.",
        "card2-title": "Web Applications",
        "card2-description": "We develop customized applications for your business — from booking systems to data management. Reliability, security, and functionality.",
        "card3-title": "Blogs & Personal Sites",
        "card3-description": "Express yourself freely through a blog or personal website with modern design, speed, and expandability. Your content deserves the best presentation.",
        "highlights-heading": "Why Choose AR Akron Services",
        "highlight1-heading": "100% Custom",
        "highlight1-description": "We don't use drag & drop platforms. Everything you see is written exclusively for you.",
        "highlight2-heading": "Mobile First",
        "highlight2-description": "All our projects are designed for mobile devices first, so they look perfect everywhere.",
        "highlight3-heading": "In-depth Collaboration",
        "highlight3-description": "We learn what you truly want and create a product together that represents you.",
        "portfolio-heading": "Every Project, A New Challenge",
        "portfolio-subtitle": "We believe in innovation and continuous dialogue with you to create something unique.",
        "contact-ticker": "Custom solutions for your digital vision — Websites | Apps | Blogs — Your unique presence, our expertise — Reliability and security you can trust — Contact us for your custom project — Custom solutions for your digital vision — Websites | Apps | Blogs — Your unique presence, our expertise — Reliability and security you can trust — Contact us for your custom project! — Custom solutions for your digital vision — Websites | Apps | Blogs — Your unique presence, our expertise — Reliability and security you can trust — Contact us for your custom project! —",
        "contact-heading": "Contact Us",
        "contact-form-heading": "Contact Us",
        "form-name-placeholder": "Name",
        "form-email-placeholder": "Email",
        "form-message-placeholder": "Your Message",
        "form-submit-button": "Send",
        "footer-text": "© 2025 AR Akron Services",
         "terms-accept": "I accept the",
    "terms-of-use": "Terms of Use",
    "and": "and the",
    "privacy-policy": "Privacy Policy",
        // NEW TRANSLATION FOR ADDRESS
        "contact-address": "Griva Digeni 2,<br>17342 Agios Dimitrios,<br>Attica"
    }
};

// Function to apply the translation
function translatePage(lang) {
    const elements = document.querySelectorAll('[data-translate-key]');
    const currentTranslations = translations[lang];

    if (!currentTranslations) {
        console.error("Translations not found for language:", lang);
        return;
    }

    elements.forEach(element => {
        const key = element.getAttribute('data-translate-key');
        const translation = currentTranslations[key];

        if (translation === undefined) {
            console.warn("Translation key not found:", key, "for language:", lang);
            return;
        }

        // Special handling for different element types
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else if (element.tagName === 'IMG') {
             element.alt = translation;
        } else if (element.tagName === 'TEXT' && element.closest('svg')) {
             element.textContent = translation;
        } else {
             // For elements that can contain HTML (like the address with <br>)
             // Using innerHTML allows <br> tags to be rendered
             element.innerHTML = translation;
        }
    });

     document.documentElement.lang = lang;
     localStorage.setItem('selectedLanguage', lang);
     const event = new CustomEvent('languageChanged', { detail: { lang: lang } });
     document.dispatchEvent(event);
}

// Function to get the current language (from localStorage or browser default)
function getCurrentLanguage() {
    const storedLang = localStorage.getItem('selectedLanguage');
    if (storedLang && translations[storedLang]) {
        return storedLang;
    }
    const browserLang = navigator.language.split('-')[0];
    if (translations[browserLang]) {
        return browserLang;
    }

    return 'el'; // Default language if nothing is found
}

// Add Event Listeners to language selectors
document.addEventListener('DOMContentLoaded', () => {
    const langOptions = document.querySelectorAll('.language-switcher .lang-option');

    langOptions.forEach(option => {
        option.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent page reload
            const selectedLang = option.getAttribute('data-lang');
            if (selectedLang) {
                translatePage(selectedLang);

                langOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
            }
        });
    });

    // Apply language on page load
    const initialLang = getCurrentLanguage();
    translatePage(initialLang);

    const activeOption = document.querySelector(`.language-switcher .lang-option[data-lang="${initialLang}"]`);
    if (activeOption) {
        activeOption.classList.add('active');
    }
});
// Function to apply the translation
function translatePage(lang) { // Το lang είναι ήδη διαθέσιμο εδώ
    const elements = document.querySelectorAll('[data-translate-key]');
    const currentTranslations = translations[lang];

    if (!currentTranslations) {
        console.error("Translations not found for language:", lang);
        return;
    }

    elements.forEach(element => {
        const key = element.getAttribute('data-translate-key');
        const translation = currentTranslations[key];

        if (translation === undefined) {
            console.warn("Translation key not found:", key, "for language:", lang);
            return;
        }

        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else if (element.tagName === 'IMG') {
            element.alt = translation;
        } else if (element.tagName === 'A' && (key === 'terms-of-use' || key === 'privacy-policy')) {
            // Αυτή η συνθήκη αφορά τους συνδέσμους μέσα στο HTML που έδωσες
            // και είναι ξεχωριστοί από το form-consent-text.
            // Θα πρέπει να ενημερώσεις το href με βάση τη γλώσσα.
            if (key === 'terms-of-use') {
                element.href = `1-${lang}.pdf`;
            } else if (key === 'privacy-policy') {
                element.href = `2-${lang}.pdf`;
            }
            element.textContent = translation; // Ενημέρωσε και το κείμενο του συνδέσμου
        }
        else if (element.tagName === 'TEXT' && element.closest('svg')) {
             element.textContent = translation;
        }
        else {
            element.innerHTML = translation;
        }
    });

    // Ειδικός χειρισμός για το κείμενο συναίνεσης της φόρμας επικοινωνίας
    const consentLabel = document.querySelector('label[data-translate-key="form-consent-text"]');
    if (consentLabel) {
        let translatedText = translations[lang]["form-consent-text"];
        if (translatedText) {
            // Ορισμός των διαδρομών για τα PDF με βάση την τρέχουσα γλώσσα
            const privacyPdfPath = `2-${lang}.pdf`;
            const termsPdfPath = `1-${lang}.pdf`;

            // Δημιουργία των HTML συνδέσμων
            const privacyLinkHtml = `<a href="${privacyPdfPath}" target="_blank">${translations[lang]["form-privacy-link"]}</a>`;
            const termsLinkHtml = `<a href="${termsPdfPath}" target="_blank">${translations[lang]["form-terms-link"]}</a>`;

            // Αντικατάσταση των placeholders με τους HTML συνδέσμους
            translatedText = translatedText.replace('[[privacy_link]]', privacyLinkHtml);
            translatedText = translatedText.replace('[[terms_link]]', termsLinkHtml);

            // Εφαρμογή του τελικού κειμένου με τους συνδέσμους στο label
            consentLabel.innerHTML = translatedText;
        }
    }

    document.documentElement.lang = lang;
    localStorage.setItem('selectedLanguage', lang);
    const event = new CustomEvent('languageChanged', { detail: { lang: lang } });
    document.dispatchEvent(event);
}
